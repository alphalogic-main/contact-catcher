<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jabari Alleyne - NFC Digital Business Card</title>
  <style>
    :root {
      --primary-color: #0077cc;
      --primary-hover: #005fa3;
      --text-color: #333;
      --bg-color: #f4f4f4;
      --card-bg: white;
      --border-radius: 10px;
      --box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);
      --spacing-unit: 1rem;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Arial', sans-serif;
      line-height: 1.6;
      background-color: var(--bg-color);
      color: var(--text-color);
      padding: var(--spacing-unit);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 480px;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: calc(var(--spacing-unit) * 1.5);
      text-align: center;
    }

    .profile-section {
      margin-bottom: calc(var(--spacing-unit) * 1.5);
    }

    .profile-img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto var(--spacing-unit);
      display: block;
      border: 3px solid #eee;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
      color: var(--primary-color);
    }

    h2 {
      font-size: 1.2rem;
      color: #555;
      margin-bottom: var(--spacing-unit);
      font-weight: normal;
    }

    .subtitle {
      color: #666;
      margin-bottom: var(--spacing-unit);
    }
    
    .bio {
      text-align: left;
      margin: var(--spacing-unit) 0;
      padding: var(--spacing-unit);
      background: #f9f9f9;
      border-radius: var(--border-radius);
    }

    .action-buttons {
      margin: calc(var(--spacing-unit) * 1.5) 0;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-unit);
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: calc(var(--spacing-unit) * 0.8);
      font-size: 1.1rem;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .btn:hover {
      background-color: var(--primary-hover);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .btn i {
      margin-right: 0.5rem;
      font-size: 1.2rem;
    }

    .social-links {
      margin-top: var(--spacing-unit);
      display: flex;
      justify-content: center;
      gap: var(--spacing-unit);
    }

    .social-link {
      color: var(--primary-color);
      font-size: 1.5rem;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      color: var(--primary-hover);
      transform: translateY(-2px);
    }

    .nfc-status {
      margin-top: 1rem;
      padding: 0.5rem;
      background: #f0f8ff;
      border-radius: var(--border-radius);
      display: none;
    }

    .nfc-status i {
      margin-right: 0.5rem;
    }

    @media (min-width: 768px) {
      :root {
        --spacing-unit: 1.25rem;
      }
      
      .card {
        padding: calc(var(--spacing-unit) * 2);
      }
      
      .profile-img {
        width: 140px;
        height: 140px;
      }
      
      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.4rem;
      }

      .action-buttons {
        flex-direction: row;
        flex-wrap: wrap;
      }

      .btn {
        flex: 1 1 45%;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <main class="card">
      <div class="profile-section">
        <img src="profile.jpg" alt="Jabari Alleyne" class="profile-img">
        <h1>Jabari Alleyne</h1>
        <h2>Marine Operations Specialist</h2>
        <p class="subtitle">SOL Caribbean</p>
        
        <div class="bio">
          <p>As a Marine Operations Specialist at SOL Caribbean, I oversee and coordinate all marine-related activities to ensure safe and efficient operations. With extensive experience in maritime logistics and vessel management, I'm committed to maintaining the highest standards of safety and environmental compliance.</p>
          <p>My expertise includes port operations, cargo handling, and regulatory compliance. I'm passionate about optimizing marine operations through innovative solutions and teamwork.</p>
        </div>
      </div>

      <div class="action-buttons">
        <button id="saveContactBtn" class="btn">
          <i class="fas fa-address-card"></i> Save Contact
        </button>
        <button id="nfcShareBtn" class="btn">
          <i class="fas fa-wifi"></i> Share via NFC
        </button>
        <a href="intro.pdf" class="btn" download>
          <i class="fas fa-file-pdf"></i> Download PDF
        </a>
      </div>
      
      <div id="nfcStatus" class="nfc-status">
        <i class="fas fa-sync-alt fa-spin"></i> <span class="nfc-message">Waiting for NFC connection...</span>
      </div>
      
      <div class="social-links">
        <a href="https://www.linkedin.com/in/jabari-alleyne-9a96aa1ab" class="social-link" target="_blank" aria-label="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="https://api.whatsapp.com/send?phone=+12468524766" class="social-link" target="_blank" aria-label="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="tel:+1-246-852-4766" class="social-link" aria-label="Phone">
          <i class="fas fa-phone"></i>
        </a>
        <a href="mailto:jabari.alleyne@solpetroleum.com" class="social-link" aria-label="Email">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
    </main>
  </div>

  <script>
    // vCard content
    const vCardContent = `BEGIN:VCARD
VERSION:3.0
PRODID:-//Apple Inc.//iPhone OS 18.5//EN
N:Alleyne;Jabari;;;
FN:Jabari Alleyne
ORG:SOL Caribbean;
TITLE:Marine Operations Specialist
item1.EMAIL;type=INTERNET;type=pref:jabari.alleyne@solpetroleum.com
item1.X-ABLabel:Email
item2.TEL;type=pref:+12468524766
item2.X-ABLabel:WhatsApp
item3.TEL:+1-246-852-4766
item3.X-ABLabel:Call
item6.URL:https://api.whatsapp.com/send?phone=+12468524766
item6.X-ABLabel:WhatsApp
item7.URL:https://solpetroleum.com/
item7.X-ABLabel:SOL Petroleum
item8.URL:https://www.linkedin.com/in/jabari-alleyne-9a96aa1ab
item8.X-ABLabel:Jabari Alleyne
PHOTO;ENCODING=b;TYPE=JPEG:/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAA
AAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAA+qADAAQAAAABAA
AA+gAAAAD/wAARCAD6APoDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcI
CQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0f
AkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4
eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2u
Hi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QA
tREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRCh
YkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOE
hYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5e
bn6Onq8vP09fb3+Pn6/9sAQwACAgICAgIDAgIDBQMDAwUGBQUFBQYIBgYGBgYICggICAgICAoK
CgoKCgoKDAwMDAwMDg4ODg4PDw8PDw8PDw8P/9sAQwECAgIEBAQHBAQHEAsJCxAQEBAQEBAQEB
AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/90ABAAQ/9oADAMBAAIR
AxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiim7hRcB1FJuFLQAUUUUAFFFFAB
RRRQAUUUUAFFFFABRRRQAUUUUAf//Q/fyiiigAooooAKKKKACiiigAooooAKKKKACjpRXyv+19
8S9Y+EnwD8R+K9H006hM4SxLfu2+zLqDfZvtJhkUrNseVf3WMP8AxfJvrGrU5RpXdj46/aX/AG
7/ABRo/ju08B/s8XGla1o9xar9t8QQAX72W4kdty2/zeTL5cIV92yVMttx8r4+CtP0n9ojxJpd
79p8d6xLLeunl3curXsjtFGrQusv775327f+AVg/DvS9Pj0+0j02HZv+Zt3zvv8A9uvtjwH4Xk
vI0t4frX53m+eVlPlpn6pkPDNCVL2lQ8s+D/ABL+OH7OmoeZo/m6r4HsS5m0ZpWl+1PIuzdE7u/
2dpHXzPkT+L7j9+v10+Bf7Rfw4/aI0vUNQ+AS3yvpEkUd3b3cXlSxeem+Jjt3oyvtZQQ38Legr
4dbwfHp9m9vNul/2v71eTfstfETxB8MP2jE0PVdds9P8P+LbndbXdyqrKssEE72n72T7nLKkfz/
AD+Zs2P8jJ7XD+bVZv2dQ8HibIqVOPtKB+/lFFFfbHwwUUUUAFFFFABRRRQAUUUUAFFFFAH//0f
38ooooAKKKKACiiigAooooAKKKKACg9KKD0oAjr4g/b0vfs/wI/st3dItW1fT7OTY2B+8Yuu75
TuwyrsA/j2n+GvuCvzL/AOCllj4kk+H/AIC1Cxv1t9Fs/FNgL202fPPPJKn2d92fuxqsuV7l1P8
ADXHjZWpSOrBRvViflzot/wCINDku4/Cvh+G4srCbyV82XY8n99kSvvD4J+N9P1Czli2C31W3t3
8yH7+x/+AivhhvCV5qF5LeebcJv2bZIJ2jeNo23/ACbP+ei7kf8A3q+k/gvdXGufEzxnrltaLbx
eSirBu3oiyN93f8Ax+X935/+789fmmJhH4j9ey9yjHlZ7T4f8V6540/tiTxDrelaZ9lj3RskTSO
38Cb97p/rG218kftWaXJJ4f8PyW1ukum3s0tvD5W50d9vybE/zyNt/76avrnRf2btL/4SR9chis
bu1vLXyY/MhXzY4pJ2udrN/E8bM2yX76J8m/ZsWuc+Lf9nx/EDwPZ70RNN1NGj+Vn3eXBKm1P9v
cq/8D21lTqezqRmjmxNPnpSgz9TfhTruseKPhf4P8T+Kbf7LrOraRp95fRbGj8u6uIFklTY/zJt
dm+U8p07V6RX59f8E9fi/wCH/iR8K9V8L6Ox/wCKR1KfylZW3/YNSllurR933ON0sW1D8vl4r9
CHSvt8PK8IyPzGtG02haKKK2MgooooAKKKKACiiigAooooAKKKKAP/9P9/KKKKACiiigAooooAK
KKKACiiigAooooA/mv/wCCz3hK8j+PHgvxZ5v+iX/hxLNYv+mlpdTu7f8AfNyv/fNfjIv+sr+o
D/gqZ8Pf+E0/ZwtvGkMW+48G6vBMzfxLb3qtbSf+PNFX8v6/6ysy0XI/9ZWlH/q6zY/9ZWlH/q6
CjSj/wBXU3/LOoY/9XU3/LOgDpNLijjs02VpVRsf+POOr1AGlH/q6m/5Z1DH/q6m/wCWdZgbHh+
1+z6f9of/AFt183/Af4K9Y+F+l/bPFFvI/wBy1VpG/wCAfI//AI9XDRx+XGkafcSvqT9mPw39q
8R3niCZN0WlQ+X/ANtZ/kT/AMdVqAPsOzi8uNI0+4ldDH/q6zbePy40StmgAooooAKKKKACiiig
AooooAKKKKAP/9T9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiig
AooooAKKKKACiiigD/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigD/9k=
END:VCARD`;

    // Save contact function
    async function saveContact() {
      // Try to add contact directly on mobile devices
      if (navigator.contacts && navigator.contacts.save) {
        try {
          const contact = {
            name: {
              givenName: 'Jabari',
              familyName: 'Alleyne'
            },
            organizations: [{
              name: 'SOL Caribbean',
              title: 'Marine Operations Specialist'
            }],
            emails: [{
              address: 'jabari.alleyne@solpetroleum.com',
              type: 'work'
            }],
            phones: [{
              number: '+12468524766',
              type: 'work'
            }, {
              number: '+1-246-852-4766',
              type: 'mobile'
            }],
            urls: [{
              url: 'https://www.linkedin.com/in/jabari-alleyne-9a96aa1ab'
            }]
          };
          
          await navigator.contacts.save(contact);
          showNfcStatus('Contact saved successfully!', 'success');
          return;
        } catch (err) {
          console.log('Failed to save contact directly:', err);
          // Fall through to download method
        }
      }
      
      // Fallback method: download vCard file
      const blob = new Blob([vCardContent], { type: 'text/vcard' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = 'Jabari_Alleyne.vcf';
      a.style.display = 'none';
      
      document.body.appendChild(a);
      a.click();
      
      // Clean up
      setTimeout(() => {
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }, 100);
      
      showNfcStatus('Contact downloaded!', 'success');
    }

    // NFC Sharing Functionality
    async function startNFCShare() {
      const nfcStatus = document.getElementById('nfcStatus');
      const nfcMessage = nfcStatus.querySelector('.nfc-message');
      
      // Check for Web NFC API support (Chrome for Android)
      if ('NDEFReader' in window) {
        try {
          showNfcStatus('Preparing NFC...', 'loading');
          
          const ndef = new NDEFReader();
          await ndef.scan();
          
          // Show device-specific instructions
          const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
          const message = isIOS 
            ? 'Hold top of your phone to another device'
            : 'Hold phones back-to-back (NFC areas touching)';
          
          showNfcStatus(message, 'ready');
          
          // Write vCard when another device is detected
          ndef.onreading = async ({ message }) => {
            try {
              showNfcStatus('Device detected! Sharing contact...', 'loading');
              
              await ndef.write({
                records: [{
                  recordType: "mime",
                  mediaType: "text/vcard",
                  data: vCardContent
                }]
              });
              
              showNfcStatus('Contact shared successfully!', 'success');
              setTimeout(() => nfcStatus.style.display = 'none', 2000);
            } catch (err) {
              console.error("NFC write error:", err);
              showNfcStatus('Failed to share. Try manual save.', 'error');
              setTimeout(() => nfcStatus.style.display = 'none', 3000);
            }
          };
          
          // Timeout after 20 seconds
          setTimeout(() => {
            if (nfcStatus.style.display !== 'none') {
              showNfcStatus('No device found. Try manual save.', 'error');
              setTimeout(() => nfcStatus.style.display = 'none', 3000);
            }
          }, 20000);
          
        } catch (err) {
          console.error("NFC error:", err);
          showNfcStatus('NFC not available. Using fallback...', 'error');
          setTimeout(() => nfcStatus.style.display = 'none', 3000);
          shareFallback();
        }
      } else {
        // Fallback for non-NFC browsers
        shareFallback();
      }
    }

    // Fallback sharing method
    async function shareFallback() {
      if (navigator.share) {
        try {
          await navigator.share({
            title: 'Jabari Alleyne - Contact',
            text: 'Marine Operations Specialist at SOL Caribbean',
            url: window.location.href
          });
        } catch (err) {
          console.log('Share failed:', err);
          saveContact(); // Final fallback
        }
      } else {
        saveContact();
      }
    }

    // Helper function to show NFC status messages
    function showNfcStatus(message, type) {
      const nfcStatus = document.getElementById('nfcStatus');
      const nfcMessage = nfcStatus.querySelector('.nfc-message');
      const icon = nfcStatus.querySelector('i');
      
      nfcStatus.style.display = 'block';
      nfcMessage.textContent = message;
      
      // Clear all classes
      nfcStatus.className = 'nfc-status';
      icon.className = 'fas';
      
      // Add type-specific classes
      switch(type) {
        case 'loading':
          icon.classList.add('fa-sync-alt', 'fa-spin');
          nfcStatus.classList.add('nfc-loading');
          break;
        case 'ready':
          icon.classList.add('fa-mobile-alt');
          nfcStatus.classList.add('nfc-ready');
          break;
        case 'success':
          icon.classList.add('fa-check-circle');
          nfcStatus.classList.add('nfc-success');
          break;
        case 'error':
          icon.classList.add('fa-exclamation-circle');
          nfcStatus.classList.add('nfc-error');
          break;
      }
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('saveContactBtn').addEventListener('click', saveContact);
      document.getElementById('nfcShareBtn').addEventListener('click', startNFCShare);
    });
  </script>
</body>
</html>
